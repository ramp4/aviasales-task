{"version":3,"sources":["assets/logo.svg","actions/ticketsActions.tsx","actions/filterActions.tsx","reducers/ticketsReducer.tsx","reducers/filterReducer.tsx","reducers/index.tsx","store/configureStore.tsx","serviceWorker.ts","components/TicketsItem.tsx","components/TicketsTemplate.tsx","components/Tab.tsx","containers/TicketsContainer.tsx","components/FilterOption.tsx","data/filterOptionsNames.tsx","containers/FilterContainer.tsx","components/App.tsx","index.tsx"],"names":["module","exports","ticketsActionTypes","filterActionsTypes","initialState","ticketsList","isFetching","isFailed","cheap","makeDeselectOther","some","otherEl","document","querySelector","classList","toggle","filterOptions","all","non_stop","one_stop","two_stop","three_stop","rootReducer","combineReducers","filter","state","action","type","SET_FILTER_OPTION","newFilterOptions","payload","checkAll","Object","entries","every","item","i","clickedIndex","index","tickets","GET_TICKETS_REQUEST","GET_TICKETS_SUCCESS","GET_TICKETS_FAIL","SORT_BY_SOME","someEl","store","createStore","applyMiddleware","thunk","logger","Boolean","window","location","hostname","match","TicketsItem","props","appearDate","date","duration","durationDif","departureDate","moment","arrivalDate","add","roundedDep","roundMinutes","roundedArr","dd","hh","startHH","slice","finishHH","mm","startMM","Math","floor","format","className","price","src","carrier","alt","segments","map","key","origin","destination","stops","postTemplate","renderStops","length","join","TicketsTemplate","applyFilterAndTabs","options","stopCounts","newTicketList","forEach","bePushed","j","k","push","quickSort","array","left","right","partitionSpeed","partitionCheap","pivot","template","idx","renderTemplate","Tab","classType","id","onClick","onClickHandler","innerText","TicketsContainer","handleTabClick","e","currentTarget","preventDefault","sortBySome","getTickets","this","fetchingTemplate","React","connect","dispatch","fetch","then","r","json","searchId","data","result","catch","FilterOption","name","value","onChange","checked","htmlFor","text","filterOptionsNames","setOptions","handleOptionChange","App","logoSrc","Component","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8b4c201d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.0c089234.svg\";","import { action } from \"typesafe-actions\";\r\nimport TicketsItemProps from \"../types/TicketItemProps\";\r\n\r\nexport enum ticketsActionTypes {\r\n  GET_TICKETS_REQUEST = \"GET_TICKETS_REQUEST\",\r\n  GET_TICKETS_SUCCESS = \"GET_TICKETS_SUCCESS\",\r\n  GET_TICKETS_FAIL = \"GET_TICKETS_FAIL\",\r\n  SORT_BY_SOME = \"SORT_BY_SOME\"\r\n}\r\n\r\nexport const ticketsActions = {\r\n  getTicketsRequest: () => action(ticketsActionTypes.GET_TICKETS_REQUEST),\r\n  getTicketsSuccess: (list: TicketsItemProps[]) =>\r\n    action(ticketsActionTypes.GET_TICKETS_SUCCESS, list),\r\n  getTicketsFail: () => action(ticketsActionTypes.GET_TICKETS_FAIL),\r\n  sortBySome: (some: string) =>\r\n    action(ticketsActionTypes.SORT_BY_SOME, { some })\r\n};\r\n","import { action } from \"typesafe-actions\";\r\nimport { OptionsModel } from \"../reducers/filterReducer\";\r\n\r\nexport enum filterActionsTypes {\r\n  SET_FILTER_OPTION = \"SET_FILTER_OPTION\"\r\n}\r\n\r\nexport const filterActions = {\r\n  setOptions: (filterOptions: OptionsModel, clickedIndex: number) =>\r\n    action(filterActionsTypes.SET_FILTER_OPTION, {\r\n      filterOptions,\r\n      clickedIndex\r\n    })\r\n};\r\n","import { ticketsActionTypes } from \"../actions/ticketsActions\";\r\nimport TicketsItemProps from \"../types/TicketItemProps\";\r\nimport * as MyTypes from \"MyTypes\";\r\n\r\ninterface TicketsModel {\r\n  ticketsList: TicketsItemProps[];\r\n  isFetching: boolean;\r\n  isFailed: boolean;\r\n  cheap: boolean;\r\n}\r\n\r\nexport const initialState: TicketsModel = {\r\n  ticketsList: [],\r\n  isFetching: false,\r\n  isFailed: false,\r\n  cheap: true\r\n};\r\n\r\nexport const ticketsReducer = (\r\n  state: TicketsModel = initialState,\r\n  action: MyTypes.RootAction\r\n) => {\r\n  switch (action.type) {\r\n    case ticketsActionTypes.GET_TICKETS_REQUEST: {\r\n      return { ...state, isFetching: true };\r\n    }\r\n    case ticketsActionTypes.GET_TICKETS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ticketsList: action.payload,\r\n        isFetching: false\r\n      };\r\n    }\r\n    case ticketsActionTypes.GET_TICKETS_FAIL: {\r\n      return { ...state, isFailed: true, isFetching: false };\r\n    }\r\n    case ticketsActionTypes.SORT_BY_SOME: {\r\n      let { cheap } = state;\r\n      const { some } = action.payload;\r\n\r\n      const someEl = document.querySelector(`#${some}`);\r\n\r\n      someEl?.classList.toggle(\"selected\");\r\n      makeDeselectOther(cheap, some);\r\n      return { ...state, cheap: !cheap };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst makeDeselectOther = (cheap: boolean, some: string) => {\r\n  if (some === \"fast\") {\r\n    cheap = false;\r\n    const otherEl = document.querySelector(`#cheap`);\r\n    otherEl?.classList.toggle(\"selected\");\r\n  } else {\r\n    cheap = true;\r\n    const otherEl = document.querySelector(`#fast`);\r\n    otherEl?.classList.toggle(\"selected\");\r\n  }\r\n};\r\n","import * as MyTypes from \"MyTypes\";\r\nimport { filterActionsTypes } from \"../actions/filterActions\";\r\nexport interface OptionsModel {\r\n  all: boolean;\r\n  non_stop: boolean;\r\n  one_stop: boolean;\r\n  two_stop: boolean;\r\n  three_stop: boolean;\r\n}\r\n\r\ninterface filterModel {\r\n  filterOptions: OptionsModel;\r\n}\r\n\r\nexport const initialState: filterModel = {\r\n  filterOptions: {\r\n    all: true,\r\n    non_stop: true,\r\n    one_stop: true,\r\n    two_stop: true,\r\n    three_stop: true\r\n  }\r\n};\r\n\r\nexport const filterReducer = (\r\n  state: filterModel = initialState,\r\n  action: MyTypes.RootAction\r\n) => {\r\n  switch (action.type) {\r\n    case filterActionsTypes.SET_FILTER_OPTION: {\r\n      let newFilterOptions = action.payload.filterOptions;\r\n\r\n      const checkAll = () => {\r\n        if (\r\n          Object.entries(newFilterOptions).every((item, i) => {\r\n            if (i === 0) {\r\n              return true;\r\n            } else if (item[1] === true) {\r\n              return true;\r\n            }\r\n          })\r\n        ) {\r\n          newFilterOptions = {\r\n            all: true,\r\n            non_stop: true,\r\n            one_stop: true,\r\n            two_stop: true,\r\n            three_stop: true\r\n          };\r\n        } else {\r\n          newFilterOptions = {\r\n            ...newFilterOptions,\r\n            all: false\r\n          };\r\n        }\r\n      };\r\n      switch (+action.payload.clickedIndex) {\r\n        case 0: {\r\n          if (\r\n            Object.entries(action.payload.filterOptions).every(\r\n              (item, index) => {\r\n                if (item[1] === true) return true;\r\n                return false;\r\n              }\r\n            )\r\n          ) {\r\n            newFilterOptions = {\r\n              all: false,\r\n              non_stop: false,\r\n              one_stop: false,\r\n              two_stop: false,\r\n              three_stop: false\r\n            };\r\n          } else\r\n            newFilterOptions = {\r\n              all: true,\r\n              non_stop: true,\r\n              one_stop: true,\r\n              two_stop: true,\r\n              three_stop: true\r\n            };\r\n\r\n          break;\r\n        }\r\n        case 1: {\r\n          newFilterOptions = {\r\n            ...newFilterOptions,\r\n            non_stop: !newFilterOptions.non_stop\r\n          };\r\n          checkAll();\r\n          break;\r\n        }\r\n        case 2: {\r\n          newFilterOptions = {\r\n            ...newFilterOptions,\r\n            one_stop: !newFilterOptions.one_stop\r\n          };\r\n          checkAll();\r\n          break;\r\n        }\r\n        case 3: {\r\n          newFilterOptions = {\r\n            ...newFilterOptions,\r\n            two_stop: !newFilterOptions.two_stop\r\n          };\r\n          checkAll();\r\n          break;\r\n        }\r\n        case 4: {\r\n          newFilterOptions = {\r\n            ...newFilterOptions,\r\n            three_stop: !newFilterOptions.three_stop\r\n          };\r\n          checkAll();\r\n          break;\r\n        }\r\n        default: {\r\n          newFilterOptions = {\r\n            all: true,\r\n            non_stop: true,\r\n            one_stop: true,\r\n            two_stop: true,\r\n            three_stop: true\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        filterOptions: newFilterOptions,\r\n        clickedIndex: action.payload.clickedIndex\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { ticketsReducer } from \"../reducers/ticketsReducer\";\r\nimport { filterReducer } from \"./filterReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  filter: filterReducer,\r\n  tickets: ticketsReducer\r\n});\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { rootReducer } from \"../reducers/index\";\r\nimport logger from \"redux-logger\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk, logger));\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport TicketsItemProps from \"../types/TicketItemProps\";\r\nimport \"./TicketsItem.scss\";\r\nimport moment, { Moment } from \"moment\";\r\n\r\nexport const TicketsItem: React.FC<TicketsItemProps> = props => {\r\n  function appearDate(date: string, duration: number, durationDif: boolean) {\r\n    let departureDate = moment(date);\r\n    let arrivalDate = moment(date).add(duration, \"minutes\");\r\n    const roundedDep = roundMinutes(departureDate);\r\n    const roundedArr = roundMinutes(arrivalDate);\r\n\r\n    if (durationDif) {\r\n      let dd: any = 0;\r\n      let hh = 0;\r\n      let startHH = +roundedDep.slice(0, 2);\r\n      let finishHH = +roundedArr.slice(0, 2);\r\n      let mm: string | number = 0;\r\n\r\n      let startMM = +roundedDep.slice(3, 5);\r\n      let finishMM = +roundedArr.slice(3, 5);\r\n\r\n      mm = finishMM - startMM;\r\n      if (mm < 0) {\r\n        mm = mm + 60;\r\n        hh = hh - 1;\r\n      }\r\n\r\n      if (mm > 60) {\r\n        mm = mm - 60;\r\n        hh = hh + 1;\r\n      }\r\n\r\n      hh = finishHH - startHH + hh;\r\n      if (hh > 23) {\r\n        hh = hh - 24;\r\n      }\r\n\r\n      if (hh < 0) {\r\n        hh = hh + 24;\r\n      }\r\n\r\n      dd = Math.floor(duration / 1440);\r\n      if (dd > 0) {\r\n        dd = `${dd}д`;\r\n      } else dd = \"\";\r\n\r\n      if (mm < 10) {\r\n        mm = `0${mm}`;\r\n      }\r\n      return `${dd} ${hh}ч ${mm}м`;\r\n    }\r\n    return `${roundedDep} - ${roundedArr}`;\r\n  }\r\n\r\n  const roundMinutes = (date: Moment) => {\r\n    let mm: any = +date.format(\"mm\");\r\n    mm = Math.floor(mm / 5) * 5;\r\n    if (mm < 10) {\r\n      mm = `0${mm}`;\r\n    }\r\n    let hh = date.format(\"HH\");\r\n    let result = `${hh}:${mm}`;\r\n    return result;\r\n  };\r\n\r\n  const renderStops = (stops: number) => {\r\n    let postTemplate;\r\n    if (stops === 0) {\r\n      postTemplate = \"пересадок\";\r\n    } else if (stops === 1) {\r\n      postTemplate = \"пересадка\";\r\n    } else {\r\n      postTemplate = \"пересадки\";\r\n    }\r\n    return `${stops} ${postTemplate}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"ticket\">\r\n      <p className=\"ticket__price\">{`${props.price} Р`}</p>\r\n      <img\r\n        className=\"ticket__carrier\"\r\n        src={`http://pics.avs.io/440/144/${props.carrier}.png`}\r\n        alt={props.carrier}\r\n      ></img>\r\n      {props.segments.map((item, index) => {\r\n        return (\r\n          <div key={index} className=\"segment\">\r\n            <p className=\"flight\">\r\n              <span className=\"flight__title title\">{`${props.segments[index].origin} - ${props.segments[index].destination}`}</span>\r\n              <br />\r\n              <span className=\"flight__info info\">\r\n                {appearDate(\r\n                  props.segments[index].date,\r\n                  props.segments[index].duration,\r\n                  false\r\n                )}\r\n              </span>\r\n            </p>\r\n            <p className=\"duration\">\r\n              <span className=\"duration__title title \">В ПУТИ </span>\r\n              <br />\r\n              <span className=\"duration__info info\">\r\n                {appearDate(\r\n                  props.segments[index].date,\r\n                  props.segments[index].duration,\r\n                  true\r\n                )}\r\n              </span>\r\n            </p>\r\n            <p className=\"stops\">\r\n              <span className=\"stops__title title\">\r\n                {renderStops(props.segments[index].stops.length)}\r\n              </span>\r\n              <br />\r\n              <span className=\"stops__info info\">\r\n                {props.segments[index].stops.join(\", \")}\r\n              </span>\r\n            </p>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import * as React from \"react\";\r\nimport TicketsItemProps from \"../types/TicketItemProps\";\r\nimport \"./TicketsItem.scss\";\r\nimport { TicketsItem } from \"../components/TicketsItem\";\r\nimport { OptionsModel } from \"../reducers/filterReducer\";\r\ninterface TicketsListProps {\r\n  ticketsList: TicketsItemProps[];\r\n  cheap: boolean;\r\n  options: OptionsModel;\r\n}\r\n\r\nexport const TicketsTemplate: React.FC<TicketsListProps> = props => {\r\n  const renderTemplate = () => {\r\n    let template;\r\n    const ticketsList = applyFilterAndTabs();\r\n    if (ticketsList.length !== 0) {\r\n      template = ticketsList.map((item: TicketsItemProps, idx: number) => {\r\n        return (\r\n          <TicketsItem\r\n            key={idx}\r\n            segments={item.segments}\r\n            price={item.price}\r\n            carrier={item.carrier}\r\n          />\r\n        );\r\n      });\r\n    } else if (props.ticketsList.length !== 0) {\r\n      template = <p>Билетов с выбранными параметрами не найдено</p>;\r\n    }\r\n\r\n    return template;\r\n  };\r\n\r\n  const applyFilterAndTabs = () => {\r\n    let { options } = props;\r\n    let { ticketsList } = props;\r\n\r\n    // eslint-disable-next-line array-callback-return\r\n    let stopCounts = Object.entries(options).map((item, i) => {\r\n      if (item[1] === true) {\r\n        if (i !== 0) {\r\n          return i - 1;\r\n        }\r\n        return null;\r\n      }\r\n    });\r\n\r\n    let newTicketList: TicketsItemProps[] = [];\r\n\r\n    ticketsList.forEach((item, i) => {\r\n      let bePushed = false;\r\n      for (let j = 0; j < 2; ++j) {\r\n        for (let k = 0; k < stopCounts.length; ++k) {\r\n          if (item.segments[j].stops.length === stopCounts[k]) {\r\n            bePushed = true;\r\n          }\r\n        }\r\n      }\r\n      if (bePushed) {\r\n        newTicketList.push(item);\r\n      }\r\n    });\r\n\r\n    quickSort(newTicketList);\r\n\r\n    return newTicketList;\r\n  };\r\n\r\n  function partitionCheap(\r\n    array: Array<TicketsItemProps>,\r\n    left: number = 0,\r\n    right: number = array.length - 1\r\n  ) {\r\n    const pivot = array[Math.floor((right + left) / 2)].price;\r\n    let i = left;\r\n    let j = right;\r\n\r\n    while (i <= j) {\r\n      while (array[i].price < pivot) {\r\n        i++;\r\n      }\r\n\r\n      while (array[j].price > pivot) {\r\n        j--;\r\n      }\r\n\r\n      if (i <= j) {\r\n        [array[i], array[j]] = [array[j], array[i]];\r\n        i++;\r\n        j--;\r\n      }\r\n    }\r\n\r\n    return i;\r\n  }\r\n\r\n  function partitionSpeed(\r\n    array: Array<TicketsItemProps>,\r\n    left: number = 0,\r\n    right: number = array.length - 1\r\n  ) {\r\n    function item(index: number) {\r\n      const result =\r\n        (array[index].segments[0].duration +\r\n          array[index].segments[1].duration) /\r\n        2;\r\n      return result;\r\n    }\r\n    const pivot =\r\n      (array[Math.floor((right + left) / 2)].segments[0].duration +\r\n        array[Math.floor((right + left) / 2)].segments[1].duration) /\r\n      2;\r\n    let i = left;\r\n    let j = right;\r\n\r\n    while (i <= j) {\r\n      while (item(i) < pivot) {\r\n        i++;\r\n      }\r\n\r\n      while (item(j) > pivot) {\r\n        j--;\r\n      }\r\n\r\n      if (i <= j) {\r\n        [array[i], array[j]] = [array[j], array[i]];\r\n        i++;\r\n        j--;\r\n      }\r\n    }\r\n\r\n    return i;\r\n  }\r\n\r\n  function quickSort(\r\n    array: Array<TicketsItemProps>,\r\n    left: number = 0,\r\n    right: number = array.length - 1\r\n  ) {\r\n    let index;\r\n    if (props.cheap) {\r\n      if (array.length > 1) {\r\n        index = partitionCheap(array, left, right);\r\n\r\n        if (left < index - 1) {\r\n          quickSort(array, left, index - 1);\r\n        }\r\n\r\n        if (index < right) {\r\n          quickSort(array, index, right);\r\n        }\r\n      }\r\n    } else {\r\n      if (array.length > 1) {\r\n        index = partitionSpeed(array, left, right);\r\n\r\n        if (left < index - 1) {\r\n          quickSort(array, left, index - 1);\r\n        }\r\n\r\n        if (index < right) {\r\n          quickSort(array, index, right);\r\n        }\r\n      }\r\n\r\n      return array;\r\n    }\r\n  }\r\n  return <div className=\"tickets-template\">{renderTemplate()}</div>;\r\n};\r\n","import * as React from \"react\";\r\nimport \"./Tab.scss\";\r\ninterface TabProps {\r\n  onClickHandler: (e: any) => void;\r\n  id: string;\r\n  innerText: string;\r\n  classType: string;\r\n}\r\n\r\nconst Tab: React.FC<TabProps> = props => {\r\n  return (\r\n    <button\r\n      className={`tab ${props.classType}`}\r\n      id={props.id}\r\n      onClick={props.onClickHandler}\r\n    >\r\n      {props.innerText}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Tab;\r\n","import * as React from \"react\";\r\nimport TicketsItemProps from \"../types/TicketItemProps\";\r\n\r\nimport { TicketsTemplate } from \"../components/TicketsTemplate\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Dispatch } from \"redux\";\r\nimport * as MyTypes from \"MyTypes\";\r\n\r\nimport { ticketsActionTypes } from \"../actions/ticketsActions\";\r\nimport \"./TicketsContainer.scss\";\r\n\r\nimport { OptionsModel } from \"../reducers/filterReducer\";\r\nimport Tab from \"../components/Tab\";\r\n\r\ninterface TicketsContainerProps {\r\n  ticketsList: TicketsItemProps[];\r\n  isFetching: boolean;\r\n  isFailed: boolean;\r\n  cheap: boolean;\r\n  filterOptions: OptionsModel;\r\n  sortBySome: (some: string) => object;\r\n  getTickets: () => object;\r\n}\r\n\r\nclass TicketsContainer extends React.Component<TicketsContainerProps> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.props.getTickets();\r\n  }\r\n\r\n  handleTabClick = (e: any) => {\r\n    let some = e.currentTarget.id;\r\n    e.preventDefault();\r\n    this.props.sortBySome(some);\r\n  };\r\n\r\n  render() {\r\n    const fetchingTemplate = () => {\r\n      let template;\r\n\r\n      if (this.props.isFetching) {\r\n        template = <p>Загружаю...</p>;\r\n      } else if (this.props.isFailed) {\r\n        template = <p>Не удалось загрузить данные</p>;\r\n      }\r\n\r\n      return template;\r\n    };\r\n\r\n    return (\r\n      <main className=\"main\">\r\n        <div className=\"tabs\">\r\n          <Tab\r\n            onClickHandler={this.handleTabClick}\r\n            id=\"cheap\"\r\n            key=\"cheap\"\r\n            innerText=\"САМЫЙ ДЕШЕВЫЙ\"\r\n            classType=\"selected\"\r\n          />\r\n          <Tab\r\n            onClickHandler={this.handleTabClick}\r\n            id=\"fast\"\r\n            key=\"fast\"\r\n            innerText=\"САМЫЙ БЫСТРЫЙ\"\r\n            classType=\"deselected\"\r\n          />\r\n        </div>\r\n        {fetchingTemplate()}\r\n        <TicketsTemplate\r\n          ticketsList={this.props.ticketsList}\r\n          cheap={this.props.cheap}\r\n          options={this.props.filterOptions}\r\n        />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst MapStateToProps = (store: MyTypes.ReducerState) => {\r\n  return {\r\n    ticketsList: store.tickets.ticketsList,\r\n    filterOptions: store.filter.filterOptions,\r\n    isFetching: store.tickets.isFetching,\r\n    isFailed: store.tickets.isFailed,\r\n    cheap: store.tickets.cheap\r\n  };\r\n};\r\n\r\nconst MapDispatchToProps = (dispatch: Dispatch<MyTypes.RootAction>) => ({\r\n  sortBySome: (some: string) =>\r\n    dispatch({\r\n      type: ticketsActionTypes.SORT_BY_SOME,\r\n      payload: {\r\n        some\r\n      }\r\n    }),\r\n  getTickets: () => {\r\n    dispatch({\r\n      type: ticketsActionTypes.GET_TICKETS_REQUEST\r\n    });\r\n\r\n    return fetch(\"https://front-test.beta.aviasales.ru/search\")\r\n      .then(r => {\r\n        return r.json();\r\n      })\r\n      .then(r => {\r\n        const { searchId } = r;\r\n        return searchId;\r\n      })\r\n      .then(id => {\r\n        fetch(`https://front-test.beta.aviasales.ru/tickets?searchId=${id}`)\r\n          .then(data => {\r\n            return data.json();\r\n          })\r\n          .then(result => {\r\n            let data = result.tickets;\r\n            // data.length = 5;\r\n\r\n            dispatch({\r\n              type: ticketsActionTypes.GET_TICKETS_SUCCESS,\r\n              payload: data\r\n            });\r\n            return data;\r\n          })\r\n          .catch(date => {\r\n            dispatch({\r\n              type: ticketsActionTypes.GET_TICKETS_FAIL\r\n            });\r\n          });\r\n      });\r\n  }\r\n});\r\n\r\nexport default connect(MapStateToProps, MapDispatchToProps)(TicketsContainer);\r\n","import * as React from \"react\";\r\nimport \"./FilterOption.scss\";\r\n\r\ninterface FilterOptionProps {\r\n  id: string;\r\n  name: string;\r\n  text: string;\r\n  onChange: any;\r\n  checked: boolean;\r\n}\r\n\r\nconst FilterOption: React.FC<FilterOptionProps> = props => {\r\n  return (\r\n    <div className={`${props.name} filter_option`}>\r\n      <input\r\n        id={props.id}\r\n        className={`${props.name}__option filter_checkbox checkbox`}\r\n        type=\"checkbox\"\r\n        name={`${props.name}__option`}\r\n        value={props.name}\r\n        onChange={props.onChange}\r\n        checked={props.checked}\r\n      />\r\n      <label htmlFor={props.id} className=\"control-checkbox control\">\r\n        {props.text}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterOption;\r\n","export const filterOptionsNames = [\r\n  { name: \"all\", text: \"Все\" },\r\n  { name: \"non_stop\", text: \"Без пересадок\" },\r\n  { name: \"one_stop\", text: \"1 пересадка\" },\r\n  { name: \"two_stop\", text: \"2 пересадки\" },\r\n  { name: \"three_stop\", text: \"3 пересадки\" }\r\n];\r\n","import * as React from \"react\";\r\nimport FilterOption from \"../components/FilterOption\";\r\nimport { filterOptionsNames } from \"../data/filterOptionsNames\";\r\nimport { connect } from \"react-redux\";\r\nimport { Dispatch } from \"redux\";\r\nimport * as MyTypes from \"MyTypes\";\r\nimport { OptionsModel } from \"../reducers/filterReducer\";\r\nimport { filterActionsTypes } from \"../actions/filterActions\";\r\nimport \"./FilterContainer.scss\";\r\ninterface FilterContainerProps {\r\n  filterOptions: OptionsModel;\r\n  setOptions: (filterOptions: OptionsModel, clickedIndex: number) => object;\r\n}\r\n\r\nconst FilterContainer: React.FC<FilterContainerProps> = props => {\r\n  const handleOptionChange = (e: any) => {\r\n    let { id } = e.currentTarget;\r\n    props.setOptions(props.filterOptions, id);\r\n  };\r\n\r\n  return (\r\n    <aside className=\"filter\">\r\n      <h3 className=\"filter_title\">Количество пересадок</h3>\r\n      {Object.entries(props.filterOptions).map((item, index) => {\r\n        return (\r\n          <FilterOption\r\n            id={\"\" + index}\r\n            key={index}\r\n            name={filterOptionsNames[index].name}\r\n            text={filterOptionsNames[index].text}\r\n            onChange={handleOptionChange}\r\n            checked={item[1] === true}\r\n          />\r\n        );\r\n      })}\r\n    </aside>\r\n  );\r\n};\r\n\r\nconst MapStateToProps = (store: MyTypes.ReducerState) => {\r\n  return {\r\n    filterOptions: store.filter.filterOptions\r\n  };\r\n};\r\n\r\nconst MapDispatchToProps = (dispatch: Dispatch<MyTypes.RootAction>) => ({\r\n  setOptions: (filterOptions: OptionsModel, clickedIndex: number) =>\r\n    dispatch({\r\n      type: filterActionsTypes.SET_FILTER_OPTION,\r\n      payload: {\r\n        filterOptions,\r\n        clickedIndex\r\n      }\r\n    })\r\n});\r\n\r\nexport default connect(MapStateToProps, MapDispatchToProps)(FilterContainer);\r\n","import React from \"react\";\r\nimport TicketsContainer from \"../containers/TicketsContainer\";\r\nimport FilterContainer from \"../containers/FilterContainer\";\r\nimport \"./App.scss\";\r\nimport logoSrc from \"../assets/logo.svg\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <img className=\"App_logo\" alt=\"App_logo\" src={logoSrc}></img>\r\n        <FilterContainer />\r\n        <TicketsContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store/configureStore\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./index.scss\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}